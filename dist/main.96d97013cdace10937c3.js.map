{"version":3,"sources":["webpack://weather-app/./src/js/forecast.js","webpack://weather-app/./src/js/weather.js","webpack://weather-app/webpack/bootstrap","webpack://weather-app/webpack/runtime/define property getters","webpack://weather-app/webpack/runtime/hasOwnProperty shorthand","webpack://weather-app/webpack/runtime/make namespace object","webpack://weather-app/./src/index.js"],"names":["async","forecastWeather","units","city","forecast","fetch","mode","status","forecastJson","json","console","log","list","statusText","getWeather","currentWeather","currentWeatherJson","name","sys","country","main","temp","weather","description","icon","humidity","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","document","querySelector","btn","alert","unit","location","table","cent","far","convertUnits","to","allVar","querySelectorAll","forEach","item","textContent","toFixed","addEventListener","cityValue","unitValue","classList","contains","style","display","info","src","innerHTML","forecastInfo","rows","removeChild","element","cleanTable","row","weatherInfo","createElement","i","data","add","appendChild","makeRow","dt_txt","slice","popullateTable","toggle"],"mappings":"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","file":"main.96d97013cdace10937c3.js","sourcesContent":["async function forecastWeather(units, city) {\r\n  let forecast = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&units=${units}&lang=es&appid=a5d5560ee39e3fe746c3741ca01c482c`, {\r\n    mode: 'cors'\r\n  })\r\n\r\n  if( forecast.status === 200 ) { \r\n\r\n    let forecastJson = await forecast.json()    \r\n    console.log(forecastJson.list);\r\n    console.log(forecastJson.list[5]);\r\n    console.log(forecastJson.list[13]);\r\n    console.log(forecastJson.list[21]);\r\n    console.log(forecastJson.list[29]);\r\n    console.log(forecastJson.list[37]);\r\n    // return [\r\n    //   forecastJson.name, \r\n    //   forecastJson.sys.country, \r\n    //   forecastJson.main.temp, \r\n    //   forecastJson.weather[0].description, \r\n    //   forecastJson.weather[0].icon, \r\n    //   forecastJson.main.humidity]\r\n    return [\r\n      forecastJson.list[3],\r\n      forecastJson.list[13],\r\n      forecastJson.list[21],\r\n      forecastJson.list[29],\r\n      forecastJson.list[37]\r\n    ]\r\n  } else if (forecast.status == 404 ) {\r\n    console.log(forecast.statusText);\r\n    return forecast.statusText\r\n  }\r\n}\r\n\r\n// forecastWeather('cusco')\r\n\r\nexport {\r\n  forecastWeather\r\n}","async function getWeather(units, city) {\r\n  let currentWeather = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=${units}&lang=es&appid=a5d5560ee39e3fe746c3741ca01c482c`, {\r\n    mode: 'cors'\r\n  })\r\n\r\n  if( currentWeather.status === 200 ) { \r\n\r\n    let currentWeatherJson = await currentWeather.json()    \r\n\r\n    return [\r\n      currentWeatherJson.name, \r\n      currentWeatherJson.sys.country, \r\n      currentWeatherJson.main.temp, \r\n      currentWeatherJson.weather[0].description, \r\n      currentWeatherJson.weather[0].icon, \r\n      currentWeatherJson.main.humidity]\r\n\r\n  } else if (currentWeather.status == 404 ) {\r\n    console.log(currentWeather.statusText);\r\n    return currentWeather.statusText\r\n  }\r\n}\r\n\r\nexport {\r\n  getWeather\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './css/style.scss'\r\n// import './static/weather.png'\r\nimport { getWeather } from './js/weather'\r\nimport { forecastWeather } from  './js/forecast'\r\n// let d = new Date()\r\n// console.log(d.getTime())\r\n// let b = new Date(1620078781 * 1000)\r\n// let c = new Date(1620077916472)\r\n\r\n// console.log(d);\r\n// console.log(b);\r\n// let image = document.querySelector('.image')\r\n// let str = document.querySelector('.search-string')\r\n// let btn1 = document.querySelector('.btn1')\r\n// btn1.addEventListener('click', getInfo)\r\n\r\n// async function f() { \r\n//   let forecastWeather = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=cusco&appid=a5d5560ee39e3fe746c3741ca01c482c`, {\r\n//     mode: 'cors'\r\n//   })\r\n//   console.log(forecastWeather);\r\n//   let currentWeather = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=cusco&appid=a5d5560ee39e3fe746c3741ca01c482c`)\r\n//   let currentWeatherJson = await currentWeather.json()\r\n//   console.log(currentWeatherJson);\r\n// }\r\n\r\n\r\n// async function getInfo() {\r\n//   let v = str.value ? str.value : 'dog';\r\n  \r\n//   let gif = await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=eV6eFDqCpNshpe0Rs65AKQkIOu9BKPO0&s=${v}`, {\r\n//     mode: 'cors'\r\n//   })\r\n  \r\n//   let gifResponse = await gif.json()\r\n  \r\n  \r\n//   console.log(gifResponse.data.images.original.url);\r\n//   image.src = gifResponse.data.images.original.url\r\n// }\r\n\r\n// f()\r\n// getInfo()\r\n\r\n\r\nlet city = document.querySelector('.city')\r\nlet btn = document.querySelector('.weather-btn')\r\nlet alert = document.querySelector('.alert')\r\nlet temp = document.querySelector('.temp')\r\nlet unit = document.querySelector('.unit')\r\nlet icon = document.querySelector('.icon')\r\nlet location = document.querySelector('.location')\r\nlet description = document.querySelector('.description')\r\nlet table = document.querySelector('table')\r\nlet units = document.querySelector('.units')\r\nlet cent = `&#x2103`\r\nlet far = `&#x2109`\r\nbtn.addEventListener('click', showResponse)\r\nunits.addEventListener('click', updateUnits)\r\n\r\nunits.querySelector('.c').classList.add('active');\r\n\r\nfunction updateUnits() {\r\n  if(units.classList.contains('farenheit')) {\r\n    unit.innerHTML = cent\r\n    convertUnits('celcius')\r\n  } else {\r\n    unit.innerHTML = far\r\n    convertUnits('farenheit')\r\n  }\r\n  units.querySelector('.c').classList.toggle('active');\r\n  units.querySelector('.f').classList.toggle('active');\r\n  units.classList.toggle('farenheit')\r\n}\r\n\r\nasync function showResponse() {\r\n  let cityValue = city.value ? city.value : '';\r\n  let unitValue = units.classList.contains('farenheit') ? 'imperial' : 'metric';\r\n  if(cityValue === '') {\r\n    alert.textContent = 'enter a city'\r\n    alert.style.display = 'block'\r\n  } else {\r\n    let info = await getWeather(unitValue, cityValue)\r\n    if (info === 'Not Found') {\r\n      alert.textContent = 'city not found'\r\n      alert.style.display = 'block'\r\n    } else {\r\n      alert.style.display = 'none'\r\n      temp.textContent = info[2]\r\n      icon.src = `http://openweathermap.org/img/wn/${info[4]}.png`\r\n      location.textContent = `${info[0]}, ${info[1]}`\r\n      unit.innerHTML = unitValue === 'metric' ? cent : far;\r\n      description.textContent = `${info[3]}`\r\n      let forecastInfo = await forecastWeather(unitValue, cityValue)\r\n      console.log(forecastInfo);\r\n      popullateTable(forecastInfo)\r\n    }\r\n    console.log(info);\r\n  }\r\n}\r\n\r\nfunction popullateTable(info) {\r\n  cleanTable()\r\n  info.forEach(item => {\r\n    let row = makeRow([\r\n      item.dt_txt.slice(5,10), \r\n      item.main.temp, \r\n      item.weather[0].icon,\r\n      item.weather[0].description,\r\n    ])\r\n    table.appendChild(row)\r\n  })\r\n}\r\n\r\nfunction makeRow(weatherInfo) {\r\n  let row = document.createElement('tr')\r\n  for (let i = 0; i < 4; i++) {\r\n    let data = document.createElement('td')\r\n    if(i !== 2) {\r\n      data.textContent = weatherInfo[i]\r\n    } else {\r\n      data = document.createElement('img')\r\n      data.src = `http://openweathermap.org/img/wn/${weatherInfo[2]}.png`\r\n    }\r\n\r\n    if ( i === 1 ) {\r\n      data.classList.add('var')\r\n    }\r\n\r\n    row.classList.add('data-row')\r\n    row.appendChild(data)\r\n  }\r\n  return row\r\n}\r\n\r\nasync function cleanTable() {\r\n  console.log(table);\r\n  let rows = await table.querySelectorAll('.data-row')\r\n  console.log(rows);\r\n  rows.forEach(async element => {\r\n    await table.removeChild(element)\r\n  });\r\n}\r\n\r\nfunction convertUnits(to) {\r\n  let allVar = [...document.querySelectorAll('.var')] \r\n  if (to == 'celcius') {\r\n    allVar.forEach(item => {\r\n      item.textContent  = ((+item.textContent - 32) / 1.8).toFixed(2)\r\n    })    \r\n  } else {\r\n    allVar.forEach(item => {\r\n      item.textContent  = (1.8 * +item.textContent + 32).toFixed(2)\r\n    })\r\n  }\r\n}"],"sourceRoot":""}